/*Esse questionário permite ao usuário a criação de sua próprias
perguntas e respostas. (30% concluído)

Atualizações:
Adicionado tratamento de erro em todas as entradas de pergutas (try, catch)
Adicionado a opção de alteração de perguntas
Adicionado goto para pular etapadas de tratamento de erros
Iniciado o desenvolvimento da interface em console
*/

using System;


class project
{	
	
	static void Main()
	{
		
		string[] perguntas = new string[100];
		string[] respostas = new string[100];
		
		//numero de perguntas do usuário
		int NumPerg = 0;
		
		// Altercação de perguntas
		int alteracao = 1;
		
		//Demonstra a posição nos loops
		int contador = 0;

		//Executar um loop
		bool retorno = true;
		
		
	
		
		// Ponto de retorno do erro
		retorno:
		
		//Inicio
		Console.Clear();
		Console.WriteLine("=========================================");
		Console.WriteLine("Esse questionário é a versão mais recente");
		Console.WriteLine("do antigo em C++");
		Console.WriteLine("\nEle oferece opções customizáveis para o");
		Console.WriteLine("entrevistador\n");
		Console.WriteLine("Também oferece um sistema de ranking com");
		Console.WriteLine("os participantes que mais se adequam aos");
		Console.WriteLine("aos padõres de um perfil");
		Console.Write("=========================================\n\n");
		Console.Write("\nPressione qualquer tecla para iniciar");
		Console.ReadKey();
		Console.Clear();
		Console.WriteLine("=====================================");
		Console.Write("Digite em números quantas perguntas \ndeseja fazer: ");
		
		
		try //Tratamento de erros, Exception;
		{
			NumPerg = int.Parse(Console.ReadLine()); //Aqui é definido a quantidade de perguntas
			if(NumPerg <= 0 || NumPerg > 100){
				Console.WriteLine("Os numeros devem ser maiores que 0");
				Console.WriteLine("e devem ser menores que 101");
				Console.WriteLine("Aperte uma tecla");
				Console.ReadKey();
				goto retorno;		
			}
		}	
		catch (Exception)
		{
			Console.WriteLine("++++++++++++++++++");
			Console.WriteLine("Use apenas numeros");
			Console.WriteLine("Aperte uma tecla");
			Console.WriteLine("++++++++++++++++++");
			Console.ReadKey();
			goto retorno;
		}
		
		
		
		
		//Limpa a tela e começa o loop para receber as perguntas
		Console.Clear();
		for(int i = 0; i < NumPerg; i++) 
		{ 
			Console.WriteLine("=======================");
			Console.WriteLine("= Digite sua pergunta =");
			Console.WriteLine("=======================");
			Console.WriteLine("\n-\n-\n-\n-\n");
			
			Console.Write(">> ");
			perguntas[i] = Console.ReadLine();
			
			Console.Clear();
			Console.WriteLine("---------------------------------");
			Console.WriteLine("- Pergunta número {0} armazenada -", i);
			Console.WriteLine("---------------------------------\n\n");
			
			
		}




		//Desmostra as perguntas feitas
		Console.Clear();
		Console.WriteLine("===============");
		Console.WriteLine("= Finalização ="); 
		Console.WriteLine("===============\n\n");
		
		for(int i = 0; i < NumPerg; i++)
		{	
			//contador é o valor que presenta a pergunta
			Console.WriteLine("----------------------------------");
			Console.WriteLine("Pergunta numero {0}:\n{1}",contador,perguntas[contador++]);
			Console.WriteLine("\n\n->");
		}

		
	
	
		
		
		

		//Altera a pergunta que o usuário desejar
		while(retorno)
		{
			
			Console.WriteLine("Para alterar alguma pergunta, digite o número dela");
			try
			{
				Console.WriteLine("Para não alterar nada, digite: 1000 e tecle enter");
				alteracao = int.Parse(Console.ReadLine());



				//sai do loop se o usuário não quiser alterar nenhuma pergunta
				if(alteracao == 1000)
				{
					retorno = false;
				} 
				
				
				
				//retorna um erro se o numero inserido não representar uma pergunta
				else if(alteracao < 0 || alteracao > contador )
				{
					Console.WriteLine("Use apenas os numeros a partir de");
					Console.WriteLine("0 até {0}", contador);
					Console.WriteLine("Ou digite 1000 para sair");
					Console.ReadKey();
				}
				
				
				//sai do loop se o usuário inserir um numero que representa uma pergunta
				else 
				{
					retorno = false;
				} 
			}
			
			
			//retorna um erro se o usuário não inserir um numero
			catch(Exception)
			{
				Console.WriteLine("Use apenas numeros");
				Console.WriteLine("Aperte uma tecla");
				Console.ReadKey();
				
			}
		}
		
		
		//Loop para alterar uma pergunta
		while(alteracao <= contador || retorno)
		{
			Console.WriteLine("Reescreva a pergunta:");
			perguntas[alteracao] = Console.ReadLine();
			Console.WriteLine("Para alterar outra pergunta digite seu numero");
			Console.WriteLine("Para não alterar mais nada digite 1000");
			try
			{
				alteracao = int.Parse(Console.ReadLine());
				
				if(alteracao == 1000)
				{
					retorno = false;
				}
				
				
				else if (alteracao < 0 || alteracao > contador )
				{
					
					Console.WriteLine("Use apenas os numeros a partir de");
					Console.WriteLine("0 até {0}", contador);	
				}
				
				
			}
			
			catch(Exception)
			{
				Console.WriteLine("Use apenas numeros");
				Console.WriteLine("Aperte uma tecla");
				Console.ReadKey();
				
			}
			
			
		}

	
		
		
		
		//retorna o vetor para a primeira posição
		contador = 0; 
		
		Console.Clear();
		
		//Segunda tabela de perguntas, demonstra as perguntas feitas
		Console.WriteLine("Perguntas Finalizadas e Salvas");
		Console.WriteLine("-------------------------");
		
		
		for(int i = 0; i < NumPerg; i++) 
		{
			Console.WriteLine("Pergunta numero {0}:\n{1}",contador,perguntas[contador++]);
		}
		
		
		Console.ReadKey();
		
		
	

		

	}
}
